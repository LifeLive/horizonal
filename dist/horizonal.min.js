/*! horizonal 05-07-2014 */
var horizonal=function(a){function b(){var b,i;d=a("body *:not(:has(*))"),a("body").wrapInner('<div id="hrz-container"><div class="hrz-page"></div></div>'),d.addClass("hrz-element"),e=[],b=a(window).height()-2*f,d.each(function(c,d){var f=a(d),g=f.offset().left,i=f.offset().top-parseInt(f.css("margin-top")),j=f.width(),k=f.height(),l=i+k;if(void 0!==e[h]){if(e[h]<l){var m=void 0===e[h-1]?0:e[h-1];l>m+b?h++:e[h]=l}}else e[h]=l;f.addClass("hrz-page-"+h),d.hrzPage=h,d.hrzCssPosition={top:i,left:g,width:j,height:k}}),d.each(function(b,c){var d=a(c),g=c.hrzCssPosition,h=0===c.hrzPage?0:e[c.hrzPage-1],i=.5*Math.random()+.7,j=0===c.hrzPage?0:f;d.css({position:"fixed",top:g.top-h+j+"px",left:g.left+"px",width:g.width+"px",height:g.height+"px","-webkit-transition":"-webkit-transform "+i+"s, opacity 1s"})}),i=e[e.length-1]+b,a("body").height(i),c(g)}function c(b){d.each(function(c,d){d.hrzPage<b?a(d).addClass("hrz-back"):b<d.hrzPage?a(d).addClass("hrz-fore"):a(d).removeClass("hrz-fore hrz-back")})}var d,e,f=20,g=0,h=0;return a(window).on("scroll",function(){var b=a(window).scrollTop(),d=0===g?0:e[g-1],f=e[g];d>b?(g--,c(g)):b>f&&(g++,c(g))}),{init:b}}(jQuery);